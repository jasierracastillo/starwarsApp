"use strict";(self.webpackChunkstarwarsApp=self.webpackChunkstarwarsApp||[]).push([[800],{9800:(N,g,o)=>{o.r(g),o.d(g,{PeopleModule:()=>D});var A=o(2271),i=o(9808),e=o(5e3),P=o(9262),a=o(8306),f=o(1135),C=o(9300),c=o(4004),U=o(520);let u=(()=>{class n{constructor(t){this.http=t,this.people$=new f.X(null),this.singlePeople$=new f.X(null),this.apiGetUrl="https://swapi.dev/api/people/"}get responseObject(){return this.people$.asObservable().pipe((0,C.h)(t=>null!=t))}loadPeopleList(){return this.http.get(this.apiGetUrl).pipe((0,c.U)(t=>t.data)).subscribe(t=>{this.people$.next(t)}),this.people$.asObservable()}loadPeopleById(t){return this.http.get(this.apiGetUrl+t).pipe((0,c.U)(s=>s.data)).subscribe(s=>{this.singlePeople$.next(s)}),this.singlePeople$.asObservable()}getPeople(t){return this.http.get(this.apiGetUrl+t).pipe((0,c.U)(s=>s.results))}getPeopleById(t){return this.http.get(this.apiGetUrl+`${t}`).pipe((0,c.U)(s=>s.results))}getHomeWorld(t){return this.http.get(`https://swapi.dev/api/planets/${t}`).pipe((0,c.U)(s=>s))}getPlanets(){return this.http.get("https://swapi.dev/api/planets/").pipe((0,c.U)(t=>t.results))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(U.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=o(3477),O=o(1065);let v=(()=>{class n{transform(t){let s=parseInt(t),p="";return p=s>200?"High":s>100&&s<200?"Normal":"Low",p}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"height",type:n,pure:!0}),n})(),$=(()=>{class n{constructor(t,s){this.service=t,this.router=s,this.people$=new a.y,this.segment="people",this.id=0}ngOnInit(){this.getByState()}ngOnChanges(t){}getByState(){const t=history.state;this.id=t.key,this.peopleObj=t.data}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(h.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-people-details-panel"]],features:[e.TTD],decls:28,vars:8,consts:[[1,"table","table-hover"],[1,"table-primary"],[3,"item"]],template:function(t,s){1&t&&(e.TgZ(0,"table",0),e.TgZ(1,"tr",1),e.TgZ(2,"td"),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"tr"),e.TgZ(7,"td"),e._uU(8,"Birth Year"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"tr"),e.TgZ(12,"td"),e._uU(13,"Height"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"height"),e.qZA(),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td"),e._uU(19,"Mass"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td"),e._uU(24,"Homeworld"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.qZA(),e._UZ(27,"app-back-button",2)),2&t&&(e.xp6(5),e.Oqu(s.peopleObj.name),e.xp6(5),e.Oqu(s.peopleObj.birth_year),e.xp6(5),e.Oqu(e.lcZ(16,6,s.peopleObj.height)),e.xp6(6),e.Oqu(s.peopleObj.mass),e.xp6(5),e.Oqu(s.peopleObj.homeworld),e.xp6(1),e.Q6J("item",s.segment))},directives:[O.W],pipes:[v],encapsulation:2}),n})(),L=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-people-details"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,s){1&t&&(e._UZ(0,"app-navigator"),e.TgZ(1,"div",0),e._UZ(2,"app-people-details-panel"),e.qZA())},directives:[P.S,$],styles:[""]}),n})();var Z=o(3605),d=o(5620);const y=n=>n.people,I=(0,d.P1)(y,n=>n.people),_=(0,d.P1)(y,n=>n.loading);var x=o(2051);const F=function(n){return["/starwars/films/details",n]};function w(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li"),e._UZ(1,"i",3),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4),e.ALo(5,"date"),e.ALo(6,"height"),e.TgZ(7,"a",4),e.NdJ("click",function(){const p=e.CHM(t),r=p.index,m=p.$implicit;return e.oxw(2).sendItemDetail(r,m)})("click",function(){const p=e.CHM(t),r=p.index,m=p.$implicit;return e.oxw(2).sendWithState(r,m)}),e._uU(8,"More details"),e.qZA(),e._uU(9," ) "),e.qZA()}if(2&n){const t=l.$implicit,s=l.index,p=e.oxw(2);e.xp6(3),e.Oqu(t.name),e.xp6(1),e.lnq(" | ",p.getPlanetIdFromPeople(t.homeworld)," | ",e.lcZ(5,5,t.created)," | Height: ",e.lcZ(6,7,t.height)," \xbb ( "),e.xp6(3),e.Q6J("routerLink",e.VKq(9,F,s))}}function b(n,l){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"ul"),e.YNc(2,w,10,11,"li",2),e.ALo(3,"async"),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t.people$))}}let q=(()=>{class n{constructor(t,s){this.service=t,this.router=s,this.people$=new a.y,this.palnets$=new a.y,this.selectedItem=new e.vpe,this.filter="",this.PlanetsNames=[],this.homeworld="",this.planetId=0}ngOnInit(){this.palnets$=this.service.getPlanets(),this.palnets$.forEach(t=>{this.PlanetsNames.push(t.name)})}getPlanet(){}getPlanetIdFromPeople(t){let s=parseInt(t.slice(-1));return this.PlanetsNames[s]}sendItemDetail(t,s){this.selectedItem.emit({pos:t,value:s})}sendWithState(t,s){this.router.navigate(["/starwars/people/details/"+t],{state:{key:t,data:s}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(h.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-people-list-panel"]],inputs:{people$:"people$",palnets$:"palnets$",filter:"filter"},outputs:{selectedItem:"selectedItem"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[1,"far","fa-address-card"],[3,"routerLink","click"]],template:function(t,s){1&t&&e.YNc(0,b,4,3,"div",0),2&t&&e.Q6J("ngIf",s.people$)},directives:[i.O5,i.sg,h.yS],pipes:[i.Ov,i.uU,v],styles:["li[_ngcontent-%COMP%]{margin:20px}span[_ngcontent-%COMP%]{color:#dc143c}"]}),n})();function S(n,l){1&n&&(e.TgZ(0,"div",3),e._uU(1," Loading ...\n"),e.qZA())}let T=(()=>{class n{constructor(t,s){this.service=t,this.store=s,this.loading$=new a.y,this.people$=new a.y,this.itemSelcted=new a.y,this.filter="",this.itemType="people"}ngOnInit(){this.store.dispatch((0,Z._G)()),this.people$=this.store.select(I),this.loading$=this.store.select(_),this.service.getPeople(this.filter).subscribe(t=>{this.store.dispatch((0,Z.r_)({people:t}))})}ngOnChanges(t){}getItem(t){console.log("Selected: ",t),this.itemSelcted=t}recieveFilter(t){console.log("Filtro: ",t.entry),this.filter=t.entry}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(d.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-people-list"]],features:[e.TTD],decls:5,vars:6,consts:[[3,"itemType","selectedEntry"],["class","alert alert-info","role","alert",4,"ngIf"],[3,"people$","filter","selectedItem"],["role","alert",1,"alert","alert-info"]],template:function(t,s){1&t&&(e.TgZ(0,"app-search-panel",0),e.NdJ("selectedEntry",function(r){return s.recieveFilter(r)}),e.qZA(),e._UZ(1,"app-navigator"),e.YNc(2,S,2,0,"div",1),e.ALo(3,"async"),e.TgZ(4,"app-people-list-panel",2),e.NdJ("selectedItem",function(r){return s.getItem(r)}),e.qZA()),2&t&&(e.Q6J("itemType",s.itemType),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,s.loading$)),e.xp6(2),e.Q6J("people$",s.people$)("filter",s.filter))},directives:[x.m,P.S,i.O5,q],pipes:[i.Ov],styles:[""]}),n})();const M=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:T},{path:"list/:search",component:T},{path:"details/:id",component:L}];let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.Bz.forChild(M)],h.Bz]}),n})(),D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,B,A.m]]}),n})()}}]);